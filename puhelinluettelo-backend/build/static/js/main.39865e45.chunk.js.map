{"version":3,"sources":["components/Button.js","components/Persons.js","components/PersonForm.js","components/Filter.js","services/personService.js","components/Notification.js","App.js","index.js"],"names":["Button","text","handleClick","onClick","Persons","persons","removePerson","map","p","key","id","name","number","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addPerson","updatePerson","onSubmit","indexOf","value","onChange","type","Filter","newSearch","handleSearchChange","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","showNotification","setShowNotification","notificationMessage","setNotificationMessage","notificationType","setNotificationType","useEffect","console","log","personService","initialPersons","event","target","preventDefault","returnedPerson","concat","setTimeout","catch","error","personObject","window","confirm","find","filter","toLowerCase","includes","existingPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.39865e45.chunk.js","sourcesContent":["import React from 'react'\n\nconst Button = ({ text, handleClick }) => (\n    < button onClick={handleClick} >\n        {text}\n    </button >\n)\n\nexport default Button","import React from 'react'\nimport Button from './Button'\n\n\nconst Persons = ({ persons, removePerson }) => {\n    return (\n        <div>\n            {persons.map(p =>\n                [\n                    <p key={p.id}>{p.name} {p.number}</p>,\n                    <Button key={p.name} text={'delete'} handleClick={() => removePerson(p.id)} />\n                ])}\n        </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({ persons, newName, newNumber, handleNameChange, handleNumberChange, addPerson, updatePerson }) => {\n    return (\n        <form onSubmit={(persons.map(p => p.name).indexOf(newName) > -1) ? updatePerson : addPerson}>\n            <div>\n                name: <input\n                    value={newName}\n                    onChange={handleNameChange}\n                />\n            </div>\n            <div>\n                number: <input\n                    value={newNumber}\n                    onChange={handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ newSearch, handleSearchChange }) => {\n    return (\n        <div>\n            Filter shown with<input\n                value={newSearch}\n                onChange={handleSearchChange} />\n        </div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = \"http://localhost:3001/api/persons\"\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n    if (message === null) return null\n    return (\n        <div className={type}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/personService'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [newSearch, setNewSearch] = useState('')\n\tconst [showNotification, setShowNotification] = useState(false)\n\tconst [notificationMessage, setNotificationMessage] = useState('')\n\tconst [notificationType, setNotificationType] = useState('')\n\n\tuseEffect(() => {\n\t\tconsole.log('effect')\n\t\tpersonService\n\t\t\t.getAll()\n\t\t\t.then(initialPersons => {\n\t\t\t\tsetPersons(initialPersons)\n\t\t\t})\n\t}, [])\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault()\n\t\tconst personObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber\n\t\t}\n\n\t\tpersonService\n\t\t\t.create(personObject)\n\t\t\t.then(returnedPerson => {\n\t\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\t\tsetNotificationMessage(`Added ${newName}`)\n\t\t\t\tsetNotificationType('success')\n\t\t\t\tsetShowNotification(true)\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNotificationMessage('')\n\t\t\t\t\tsetNotificationType('')\n\t\t\t\t\tsetShowNotification(false)\n\t\t\t\t}, 3000)\n\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tsetNotificationMessage(`Failed to add ${newName}`)\n\t\t\t\tsetNotificationType('error')\n\t\t\t\tsetShowNotification(true)\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNotificationMessage('')\n\t\t\t\t\tsetNotificationType('')\n\t\t\t\t\tsetShowNotification(false)\n\t\t\t\t}, 3000)\n\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t})\n\t}\n\n\tconst removePerson = (id) => {\n\t\tif (window.confirm(`Delete ${persons.find(p => p.id === id).name}?`)) {\n\t\t\tpersonService\n\t\t\t\t.remove(id)\n\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\tpersonService.getAll()\n\t\t\t\t\t\t.then(existingPersons => {\n\t\t\t\t\t\t\tsetPersons(existingPersons)\n\t\t\t\t\t\t\tsetNotificationMessage(`Deleted ${persons.find(p => p.id === id).name}`)\n\t\t\t\t\t\t\tsetNotificationType('success')\n\t\t\t\t\t\t\tsetShowNotification(true)\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tsetNotificationMessage('')\n\t\t\t\t\t\t\t\tsetNotificationType('')\n\t\t\t\t\t\t\t\tsetShowNotification(false)\n\t\t\t\t\t\t\t}, 3000)\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetNotificationMessage(`Information of ${persons.find(p => p.id === id).name} has already been removed from server`)\n\t\t\t\t\tsetNotificationType('error')\n\t\t\t\t\tsetShowNotification(true)\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotificationMessage('')\n\t\t\t\t\t\tsetNotificationType('')\n\t\t\t\t\t\tsetShowNotification(false)\n\t\t\t\t\t}, 3000)\n\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst updatePerson = (event) => {\n\t\tevent.preventDefault()\n\t\tconst personObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber\n\t\t}\n\t\tif (window.confirm(`${persons.find(p => p.id === persons.find(p => p.name === newName).id).name} is already in the phonebook, replace the old number with a new one?`)) {\n\t\t\tpersonService\n\t\t\t\t.update(persons.find(p => p.name === newName).id, personObject)\n\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\tsetPersons(persons.map(p => p.name !== newName ? p : returnedPerson))\n\t\t\t\t\tsetNotificationMessage(`Updated ${newName}`)\n\t\t\t\t\tsetNotificationType('success')\n\t\t\t\t\tsetShowNotification(true)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconsole.log('täällä, tänään')\n\t\t\t\t\t\tsetNotificationMessage('')\n\t\t\t\t\t\tsetNotificationType('')\n\t\t\t\t\t\tsetShowNotification(false)\n\t\t\t\t\t}, 3000)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetNotificationMessage(`Failed to update information of ${newName}`)\n\t\t\t\t\tsetNotificationType('error')\n\t\t\t\t\tsetShowNotification(true)\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotificationMessage('')\n\t\t\t\t\t\tsetNotificationType('')\n\t\t\t\t\t\tsetShowNotification(false)\n\t\t\t\t\t}, 3000)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst handleSearchChange = (event) => setNewSearch(event.target.value)\n\n\tconst handleNameChange = (event) => setNewName(event.target.value)\n\n\tconst handleNumberChange = (event) => setNewNumber(event.target.value)\n\n\treturn (\n\t\t<div>\n\t\t\t{showNotification ? <Notification message={notificationMessage} type={notificationType} /> : null}\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Filter value={newSearch} handleSearchChange={handleSearchChange} />\n\t\t\t<h3>add a new</h3>\n\t\t\t<PersonForm persons={persons} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange}\n\t\t\t\thandleNumberChange={handleNumberChange} addPerson={addPerson} updatePerson={updatePerson} />\n\t\t\t<h3>Numbers</h3>\n\t\t\t<Persons persons={persons.filter(p => p.name.toLowerCase().includes(newSearch.toLowerCase()))} removePerson={removePerson} />\n\t\t</div>\n\t)\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}